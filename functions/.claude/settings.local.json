{
  "permissions": {
    "allow": [
      "Bash(npm test:*)",
      "Bash(npm run test:silent:*)",
      "Bash(node:*)",
      "Bash(curl:*)",
      "Bash(TOKEN=\"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijk1MTg5MTkxMTA3NjA1NDM0NGUxNWUyNTY0MjViYjQyNWVlYjNhNWMiLCJ0eXAiOiJKV1QifQ.eyJyb2xlIjoic3lzdGVtX2FkbWluIiwiYmFrZXJ5SWQiOiJlcy1hbGltZW50byIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9iYWtlLXJ5IiwiYXVkIjoiYmFrZS1yeSIsImF1dGhfdGltZSI6MTc2MzA0NDkwMCwidXNlcl9pZCI6InN5c3RlbS1hZG1pbiIsInN1YiI6InN5c3RlbS1hZG1pbiIsImlhdCI6MTc2NDk0OTU3MCwiZXhwIjoxNzY0OTUzMTcwLCJlbWFpbCI6ImRldkBjYXJzYWxoYXouY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZW1haWwiOlsiZGV2QGNhcnNhbGhhei5jb20iXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.YFfjTk4H07dN3e99JwnM_XjIOl32eetpKg9wSV_9ZJquAXp9zVlpjM6bNj4_f51tCITiRzk4ZvM2Ib9gbXpec-uTDEB4bCQLAapuCgxQwwOlvN_G2fxT0Vn94zsH3zgTzYkIp88_NZALruI-PEAEgIBJH89-Yy90rqGXAqM1E35o_uJKPoFT252ZZAyit-ZaJHIuo41UMiaP1y2xcbLq7C1t5KTLMPKfA__iIsPA_Yovt6q26F5NVPYTLeWQ1RUiu218BcR5yznttF1tVix1kXEm8vITDAYDiUP-6jDpWgyZlzwxnXdAUUnwaOw9CFHbk-v6KL8_LGZwmGhqNhhTlQ\")",
      "Bash(__NEW_LINE__ echo \"=== DIANA_LEE DUPLICATES ===\")",
      "Bash(python3:*)",
      "Bash(echo \"err\" echo -n \" Sanda Villalba (TxKTf6ceCFeFDcHu0tzd): \" curl -s -H \"Authorization: Bearer $TOKEN\" \"https://us-central1-bake-ry.cloudfunctions.net/bake/bakeries/diana_lee/users/TxKTf6ceCFeFDcHu0tzd/history\")",
      "Bash(echo \"err\" echo \"\" echo \"Phone 573158007392 - Fanny Sales:\" echo -n \" Fanny Sales newer (2lj4IaoZNZ18Zuoe7g2j): \" curl -s -H \"Authorization: Bearer $TOKEN\" \"https://us-central1-bake-ry.cloudfunctions.net/bake/bakeries/diana_lee/users/2lj4IaoZNZ18Zuoe7g2j/history\")",
      "Bash(echo \"err\" echo -n \" Fanny Sales older (b1a7nR5h7l8Vqvroqk3S): \" curl -s -H \"Authorization: Bearer $TOKEN\" \"https://us-central1-bake-ry.cloudfunctions.net/bake/bakeries/diana_lee/users/b1a7nR5h7l8Vqvroqk3S/history\")",
      "Bash(echo \"err\" echo \"\" echo \"Phone 573205499159 - Edith Mitchell:\" echo -n \" Edith newer (ilUE2Ab8wmk1IgJ9jGol): \" curl -s -H \"Authorization: Bearer $TOKEN\" \"https://us-central1-bake-ry.cloudfunctions.net/bake/bakeries/diana_lee/users/ilUE2Ab8wmk1IgJ9jGol/history\")",
      "Bash(echo \"err\" echo -n \" Edith older (QUzhqfybsrksk560YKXT): \" curl -s -H \"Authorization: Bearer $TOKEN\" \"https://us-central1-bake-ry.cloudfunctions.net/bake/bakeries/diana_lee/users/QUzhqfybsrksk560YKXT/history\")",
      "Bash(echo \"err\" echo \"\" echo \"Phone 573157420418 - DIFFERENT PEOPLE:\" echo -n \" Valerie Lafaurie (jxiD83QWNH1jKTvC6Ij8): \" curl -s -H \"Authorization: Bearer $TOKEN\" \"https://us-central1-bake-ry.cloudfunctions.net/bake/bakeries/diana_lee/users/jxiD83QWNH1jKTvC6Ij8/history\")",
      "Bash(echo \"err\" echo -n \" Martha Osorio (MCOhjZIbqY80WJd05A5A): \" curl -s -H \"Authorization: Bearer $TOKEN\" \"https://us-central1-bake-ry.cloudfunctions.net/bake/bakeries/diana_lee/users/MCOhjZIbqY80WJd05A5A/history\")",
      "Bash(TOKEN=\"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijk1MTg5MTkxMTA3NjA1NDM0NGUxNWUyNTY0MjViYjQyNWVlYjNhNWMiLCJ0eXAiOiJKV1QifQ.eyJyb2xlIjoic3lzdGVtX2FkbWluIiwiYmFrZXJ5SWQiOiJlcy1hbGltZW50byIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9iYWtlLXJ5IiwiYXVkIjoiYmFrZS1yeSIsImF1dGhfdGltZSI6MTc2MzA0NDkwMCwidXNlcl9pZCI6InN5c3RlbS1hZG1pbiIsInN1YiI6InN5c3RlbS1hZG1pbiIsImlhdCI6MTc2NDk1MDM0NCwiZXhwIjoxNzY0OTUzOTQ0LCJlbWFpbCI6ImRldkBjYXJzYWxoYXouY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZW1haWwiOlsiZGV2QGNhcnNhbGhhei5jb20iXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.LgabTaiMXZa7DO7LGPA_jdyNbFwl7ECdV-cWSyMibMhkJvpN9YdjP9q0S7iV5Oo2OpsDBWCS1mjK0f1OMFza6f8deCiWL7RfBcmM4Kd18Ee32oSpti3814UgbLmQx_Lvh1v1tbVlzMZBKpCssna0TTQQZbuHxFA2P0SMYHQ9tAtu91uApUcsITRXCYrp9zZFas130oPjEQx1XxIl5jdV1kwC5ylrvqGMayh8efh7gb9uY6BZrfybmobfMr2PQo0XrUT5kQ7BBz-UODfHCAEyP5t5xqZ5f58-QhRcsVYiuIkT7czENy9DOcVO5vut9aemUpQRSj26GsfqUDGXH07u-g\")",
      "Bash(__NEW_LINE__ echo \"\")",
      "Bash(__NEW_LINE__ echo -n \"  Maria del Pilar Juliao older (raNm6Es5sV7loB1kgLVl): \")",
      "Bash(__NEW_LINE__ echo -n \"  Maria Isabel Fernandez older (9VpbcqhXOfmnJW0OP2KU): \")",
      "Bash(__NEW_LINE__ echo -n \"  Maria Luisa older (JOLwoNYQTMkhDBsvBn4s): \")",
      "Bash(__NEW_LINE__ echo -n \"  Yulieth Sanchez (7to1prcbikVKEmGoMiHs): \")",
      "Bash(__NEW_LINE__ echo -n \"  Elisa Maria Meza de Guerrero (P7xbs5PALIP90O6X4GaOWZwHTjy2): \")",
      "Bash(TOKEN=\"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijk1MTg5MTkxMTA3NjA1NDM0NGUxNWUyNTY0MjViYjQyNWVlYjNhNWMiLCJ0eXAiOiJKV1QifQ.eyJyb2xlIjoic3lzdGVtX2FkbWluIiwiYmFrZXJ5SWQiOiJlcy1hbGltZW50byIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9iYWtlLXJ5IiwiYXVkIjoiYmFrZS1yeSIsImF1dGhfdGltZSI6MTc2NDk0MTY4MywidXNlcl9pZCI6InN5c3RlbS1hZG1pbiIsInN1YiI6InN5c3RlbS1hZG1pbiIsImlhdCI6MTc2NDk2ODQ5NywiZXhwIjoxNzY0OTcyMDk3LCJlbWFpbCI6ImRldkBjYXJzYWxoYXouY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZW1haWwiOlsiZGV2QGNhcnNhbGhhei5jb20iXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.J1_6_mZWwjJFws3Jck6X0RiZ_7tgH5yZTOhSLHpmmuLXuVUgHz-1pTK_8QIAl5BUGo_6yhn-kU4GzHcDxjWoHCX4AUVHzuYAvAGsQWBSSE_9W0pElMhNxORGS9ZL0Q-pyy1mGkqr20h-_qziqERpkDDptlOnSWwztlSgA02x4oUYZUgAruNPnGof9KV88yrtRLJBvOdrxqYwrs7P4_GPHYNzHNcaFYyZv0d8OH9f5R3tZfWcWv4UqsWwAcIcd4Oag-szRkBlrNy5k6hZ8XsXRxQUM0NhLx_MPaRU82YYfT4cTmbu_u17PCEEvPKpYG2jUWU8Mf8EvDFXoTJ3TxPciw\")",
      "Bash(BASE=\"http://127.0.0.1:5001/bake-ry/us-central1/bake\")",
      "Bash(__NEW_LINE__ echo \"=== Checking test users ===\")",
      "Bash(TOKEN=\"eyJhbGciOiJub25lIiwidHlwIjoiSldUIn0.eyJyb2xlIjoic3lzdGVtX2FkbWluIiwiYmFrZXJ5SWQiOiJlcy1hbGltZW50by1kZXYiLCJlbWFpbCI6ImRldkBjYXJzYWxoYXouY29tIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJhdXRoX3RpbWUiOjE3NjQ5Njg1OTgsInVzZXJfaWQiOiJzeXN0ZW0tYWRtaW4iLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbImRldkBjYXJzYWxoYXouY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoicGFzc3dvcmQifSwiaWF0IjoxNzY0OTY4NjAwLCJleHAiOjE3NjQ5NzIyMDAsImF1ZCI6ImJha2UtcnkiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vYmFrZS1yeSIsInN1YiI6InN5c3RlbS1hZG1pbiJ9.\")",
      "Bash(__NEW_LINE__ echo \"=== SCENARIO 1: Same person, one with 0 orders ===\")",
      "Bash(__NEW_LINE__ echo \"=== SCENARIO 2: Different people sharing phone ===\")",
      "Bash(__NEW_LINE__ echo \"=== SCENARIO 3: Same person, both have orders ===\")",
      "Bash(__NEW_LINE__ echo \"=== SCENARIO 1: DELETE user with 0 orders ===\")",
      "Bash(__NEW_LINE__ echo \"=== SCENARIO 2: CLEAR PHONE from user ===\")",
      "Bash(__NEW_LINE__ echo \"=== SCENARIO 3: MIGRATE ORDER AND DELETE ===\")",
      "Bash(__NEW_LINE__ echo \"Step 2: Get Maria del Pilar''s info (target user)\")",
      "Bash(TOKEN=\"eyJhbGciOiJub25lIiwidHlwIjoiSldUIn0.eyJyb2xlIjoic3lzdGVtX2FkbWluIiwiYmFrZXJ5SWQiOiJlcy1hbGltZW50by1kZXYiLCJlbWFpbCI6ImRldkBjYXJzYWxoYXouY29tIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJhdXRoX3RpbWUiOjE3NjQ5NjkzNTMsInVzZXJfaWQiOiJzeXN0ZW0tYWRtaW4iLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbImRldkBjYXJzYWxoYXouY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoicGFzc3dvcmQifSwiaWF0IjoxNzY0OTY5MzU1LCJleHAiOjE3NjQ5NzI5NTUsImF1ZCI6ImJha2UtcnkiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vYmFrZS1yeSIsInN1YiI6InN5c3RlbS1hZG1pbiJ9.\")",
      "Bash(__NEW_LINE__ echo \"=== SCENARIO 3: MIGRATE ORDER ===\")",
      "Bash(__NEW_LINE__ echo \"Step 2: Get full order from /orders endpoint (source of truth)\")",
      "Bash(__NEW_LINE__ echo \"Step 3: Get target user info (Maria del Pilar)\")",
      "Bash(__NEW_LINE__ echo \"Step 4: Create order for target user (Maria del Pilar)\")",
      "Bash(TOKEN=\"eyJhbGciOiJub25lIiwidHlwIjoiSldUIn0.eyJyb2xlIjoic3lzdGVtX2FkbWluIiwiYmFrZXJ5SWQiOiJlcy1hbGltZW50by1kZXYiLCJlbWFpbCI6ImRldkBjYXJzYWxoYXouY29tIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJhdXRoX3RpbWUiOjE3NjQ5NzAxNDQsInVzZXJfaWQiOiJzeXN0ZW0tYWRtaW4iLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7ImVtYWlsIjpbImRldkBjYXJzYWxoYXouY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoicGFzc3dvcmQifSwiaWF0IjoxNzY0OTcwMTQ4LCJleHAiOjE3NjQ5NzM3NDgsImF1ZCI6ImJha2UtcnkiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vYmFrZS1yeSIsInN1YiI6InN5c3RlbS1hZG1pbiJ9.\")",
      "Bash(BAKERY=\"diana_lee-dev\")",
      "Bash(__NEW_LINE__ echo \"==============================================\")",
      "Bash(echo:*)",
      "Bash(__NEW_LINE__ echo \"=== User: test-fanny-newer (0 orders) ===\")",
      "Bash(__NEW_LINE__ echo \"=== Step 1: Get order ID from source user''s history ===\")",
      "Bash(__NEW_LINE__ echo \"=== Step 2: Get full order from /orders endpoint ===\")",
      "Bash(__NEW_LINE__ echo \"=== Step 3: Get target user info ===\")",
      "Bash(__NEW_LINE__ echo \"=== Step 4: Create order for target user ===\")",
      "Bash(__NEW_LINE__ echo \"=== Step 5: Delete original order ===\")",
      "Bash(__NEW_LINE__ echo \"=== Step 6: Delete source user ===\")",
      "Bash(__NEW_LINE__ echo \"=== Step 7: Verify ===\")",
      "Bash(TOKEN=\"eyJhbGciOiJSUzI1NiIsImtpZCI6Ijk1MTg5MTkxMTA3NjA1NDM0NGUxNWUyNTY0MjViYjQyNWVlYjNhNWMiLCJ0eXAiOiJKV1QifQ.eyJyb2xlIjoic3lzdGVtX2FkbWluIiwiYmFrZXJ5SWQiOiJlcy1hbGltZW50byIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9iYWtlLXJ5IiwiYXVkIjoiYmFrZS1yeSIsImF1dGhfdGltZSI6MTc2MzA0NDkwMCwidXNlcl9pZCI6InN5c3RlbS1hZG1pbiIsInN1YiI6InN5c3RlbS1hZG1pbiIsImlhdCI6MTc2NDk4MzE4MCwiZXhwIjoxNzY0OTg2NzgwLCJlbWFpbCI6ImRldkBjYXJzYWxoYXouY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZW1haWwiOlsiZGV2QGNhcnNhbGhhei5jb20iXX0sInNpZ25faW5fcHJvdmlkZXIiOiJwYXNzd29yZCJ9fQ.oOUmli4nOkmTJd9G78lDZaRIYkTZTyktXXfs3NxRW_kFcTU8A5q5e5RanGP3LGfr2A45HE17MaFxCE4jqBdFlHubbJrQ5mi98PJgKjrDQFHdY6G2WagfE1fn8D5FdnOIeWr6-Ygfu48cK0V5cmxNMXGfdXZPbeluiOLsztKBV94MlrJOP9tVPg0-mP1PbwGJ-jkMXjdOcnlmAs5lk8HGUpZzUmLDRkDgj779lTsmtrbGUuEqOAFsxJkhEZN333KyXJ-k2PaMLOqFcnPG90Y8Ctq-Pw3Q4hVTGO39sVxaiacPt2Aej2uslvDzHihFn0VTT1GAifxThAiju_X4WUjJ5w\")",
      "Bash(BASE=\"https://us-central1-bake-ry.cloudfunctions.net/bake\")",
      "Bash(BAKERY=\"diana_lee\":*)",
      "Bash(__NEW_LINE__ echo \"=== Step 1: Get source user''s history ===\")",
      "Bash(\"$BASE/bakeries/$BAKERY/orders\")",
      "Bash(__NEW_LINE__ echo \"=== Step 7: Verify migration ===\")"
    ],
    "deny": []
  }
}
